import { useLocaleStore, AppLanguage } from '../store/localeStore';

type Dict = Record<AppLanguage, Record<string, string>>;

const translations: Dict = {
  pt: {
    language_pt: 'Português',
    language_en: 'Inglês',
    hero_title: 'Ola',
    hero_subtitle:
      'Acompanhe os registros recentes da tabela profiles e valide sua integracao rapidamente.',
    cta_refresh: 'Atualizar',
    cta_signout: 'Sair',
    stats_last_update: 'Atualizado em',
    home_stats_records: 'Registros',
    home_stats_status: 'Status',
    home_list_title: 'Ultimos registros',
    home_list_subtitle: 'Pull to refresh ou use o botao acima',
    home_loading: 'Carregando dados da tabela "profiles"...',
    home_error_title: 'Algo deu errado',
    home_error_text: 'Falha ao carregar perfis.',
    home_empty_title: 'Sem registros',
    home_empty_text: 'Adicione dados na tabela "profiles" e atualize para ve-los aqui.',
    quiz_cta_enem: 'ENEM 2025',
    quiz_cta_subtitle: 'Provas e gabaritos oficiais',
    quiz_title: 'Quiz & Provas',
    quiz_open_pdfs: 'Abrir provas',
    quiz_new_question: 'Nova questão',
    quiz_loading_questions: 'Carregando banco de perguntas...',
    quiz_error: 'Erro ao carregar perguntas',
    quiz_resources_title: 'Provas e gabaritos oficiais',
    quiz_resources_subtitle: 'Veja os PDFs do ENEM direto por aqui.',
    quiz_resources_button: 'ENEM 2025',
    auth_login_title: 'Fazer login',
    auth_login_subtitle: 'Entre com seus dados.',
    auth_login_email: 'Email',
    auth_login_password: 'Senha',
    auth_login_button: 'Entrar com senha',
    auth_login_forgot: 'Esqueci minha senha',
    auth_login_create: 'Criar conta',
    auth_signup_title: 'Criar conta',
    auth_signup_name: 'Nome completo',
    auth_signup_email: 'Email',
    auth_signup_password: 'Senha',
    auth_signup_button: 'Criar conta',
    auth_switch_label: 'Idioma',
    never_updated: 'Nunca atualizado',
    updated_at: 'Atualizado em',
    trails_title: 'Trilhas inteligentes',
    trails_subtitle: 'Rotas curtas com PDFs, aulas e gabaritos organizados.',
    trails_featured: 'Trilha em destaque',
    trails_steps: 'Passos da trilha',
    trails_resources: 'Recursos oficiais',
    trails_pdf: 'PDF',
    trails_suggestion: 'Sugestão',
  },
  en: {
    language_pt: 'Portuguese',
    language_en: 'English',
    hero_title: 'Hello',
    hero_subtitle:
      'Check the latest rows from profiles table and quickly validate your integration.',
    cta_refresh: 'Refresh',
    cta_signout: 'Sign out',
    stats_last_update: 'Updated on',
    home_stats_records: 'Records',
    home_stats_status: 'Status',
    home_list_title: 'Latest records',
    home_list_subtitle: 'Pull to refresh or tap the button above',
    home_loading: 'Loading "profiles" table data...',
    home_error_title: 'Something went wrong',
    home_error_text: 'Failed to load profiles.',
    home_empty_title: 'No records',
    home_empty_text: 'Add data to the "profiles" table and refresh to see them here.',
    quiz_cta_enem: 'ENEM 2025',
    quiz_cta_subtitle: 'Official exams and answer keys',
    quiz_title: 'Quiz & Exams',
    quiz_open_pdfs: 'Open exams',
    quiz_new_question: 'New question',
    quiz_loading_questions: 'Loading question bank...',
    quiz_error: 'Failed to load questions',
    quiz_resources_title: 'Official exams and answer keys',
    quiz_resources_subtitle: 'See ENEM PDFs right here.',
    quiz_resources_button: 'ENEM 2025',
    auth_login_title: 'Sign in',
    auth_login_subtitle: 'Use your credentials.',
    auth_login_email: 'Email',
    auth_login_password: 'Password',
    auth_login_button: 'Sign in',
    auth_login_forgot: 'Forgot password',
    auth_login_create: 'Create account',
    auth_signup_title: 'Create account',
    auth_signup_name: 'Full name',
    auth_signup_email: 'Email',
    auth_signup_password: 'Password',
    auth_signup_button: 'Sign up',
    auth_switch_label: 'Language',
    never_updated: 'Never updated',
    updated_at: 'Updated on',
    trails_title: 'Smart study paths',
    trails_subtitle: 'Short routes with PDFs, lessons and answer keys.',
    trails_featured: 'Featured path',
    trails_steps: 'Path steps',
    trails_resources: 'Official resources',
    trails_pdf: 'PDF',
    trails_suggestion: 'Suggestion',
  },
};

export function useT() {
  const lang = useLocaleStore((s) => s.language);
  return (key: string) => translations[lang]?.[key] ?? translations.pt[key] ?? key;
}

export function getCurrentLanguage(): AppLanguage {
  return useLocaleStore.getState().language;
}
